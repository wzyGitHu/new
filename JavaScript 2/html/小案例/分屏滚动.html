<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0
        }

        .screen-banner {
            overflow: hidden;
            position: relative;
        }

        .all-screen {
            top: 0;
            position: absolute;
            transition: top 0.5s;
        }
        #ul{
            position: absolute;
            right: 0;
            height: 200px;
            top:50%;
            margin-top: -100px;
            width: 50px;
        }
        #ul li{
            margin: 0 auto;
            border-radius: 100%;
            width: 20px;
            height: 20px;
            background: #000000;
            margin-top: 20px;
            list-style: none;
        }
        #ul li.active{
            background: #fff;
        }
    </style>
    <script>

        window.onload = function () {

            var oScreenBanner = document.getElementsByClassName("screen-banner")[0];
            var oAllScreen = oScreenBanner.children[0];
            var arrScreen = oAllScreen.children;
            var screenW, screenH;
            var page = 0;
            var oUl=document.getElementById('ul');
            var aLi=oUl.getElementsByTagName('li');
            var flag=document.createDocumentFragment();

            for (var i = 0; i < arrScreen.length; i++) {
                var li=document.createElement('li');
                flag.appendChild(li);

            }
            oUl.appendChild(flag);
            aLi[0].classList.add('active');
            function resize(){
                // 获取屏幕宽高
                screenW = document.documentElement.clientWidth;
                screenH = document.documentElement.clientHeight;
                // 设置宽高    总轮播图    大盒子    每一屏
                oAllScreen.style.width = oScreenBanner.style.width = screenW + "px";
                oScreenBanner.style.height = screenH + "px";
                oAllScreen.style.height = screenH * arrScreen.length + "px";
                for (var i = 0; i < arrScreen.length; i++) {
                        arrScreen[i].style.width = screenW + "px";
                        arrScreen[i].style.height = screenH + "px";
                }

                oAllScreen.style.top = -page * screenH + "px";
            }
            resize();
            window.onresize = resize;
//            节流阀 阀门关闭
            var isRunning = false; // 儅isRunning 為true  鼠標滾軸不管事
            // 儅isRunning 為false  鼠標滾軸管事
            function scrollUp() {
                if(!isRunning){
                    isRunning = true;
                    // 設置定時器  儅1秒之後  滾軸繼續可以使用
                    setTimeout(function(){
                        isRunning = false;
                    },1000);
                    if (page > 0) {
                        page--;
                        for (var i = 0; i < arrScreen.length; i++) {
                            aLi[i].classList.remove('active');
                        }
                        aLi[page].classList.add('active');
                        oAllScreen.style.top = -page * screenH + "px";
                    }
                }
            }

            function scrollDown() {
                if(!isRunning) {
                    isRunning = true;
                    setTimeout(function(){
                        isRunning = false;

                    },1000);
                    if (page < arrScreen.length - 1) {
                        page++;
                        for (var i = 0; i < arrScreen.length; i++) {
                            aLi[i].classList.remove('active');
                        }
                        aLi[page].classList.add('active');
                        oAllScreen.style.top = -page * screenH + "px";
                    }
                }
            }



// chrome   ie
//window.onmousewheel=function(){}
            addEvent(window, "mousewheel", mouseWheel);
// ff
            addEvent(window, "DOMMouseScroll", mouseWheel);



// 滚轴事件函数
            function mouseWheel(ev) {
                var oEvent = window.event || ev;
                if (oEvent.detail) {
                    if (oEvent.detail > 0) {  // 下滚动
                        scrollDown()
                    } else {   //   向上
                        scrollUp()
                    }
                } else if (oEvent.wheelDelta) {// chrome ie
                    if (oEvent.wheelDelta > 0) {  // 上滚动
                        scrollUp()
                    } else {   //   向下
                        scrollDown()
                    }
                }
            }
            function addEvent(ele, type, listener) {
                if (ele.addEventListener) {   //  click
                    ele.addEventListener(type, listener);
                } else {               //  onclick
                    ele.attachEvent("on" + type, listener);
                }
            }

        }
        for (let i = 0; i < arrScreen.length; i++) {
            aLi[i].onclick=function(){
                for (var j = 0; j < arrScreen.length; j++) {
                    aLi[j].classList.add('active');
                 }
                }
            aLi[i].classList.add('active');
        }



    </script>
</head>
<body>
<div class="screen-banner">
    <div class="all-screen">
        <div class="screen-one" style="background: red"></div>
        <div class="screen-one" style="background: yellow"></div>
        <div class="screen-one" style="background: blue"></div>
        <div class="screen-one" style="background: gainsboro"></div>
    </div>
    <ul id="ul">

    </ul>
</div>
</body>
</html>